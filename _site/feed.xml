<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>flypig's house</title>
		<description>a way to effect world</description>
		<link>http://localhost:4000</link>
		<atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>LeetCode_596. Classes More Than 5 Students</title>
				<description>&lt;h3 id=&quot;596-classes-more-than-5-students&quot;&gt;596. Classes More Than 5 Students&lt;/h3&gt;
&lt;p&gt;There is a table courses with columns: student and class&lt;/p&gt;

&lt;p&gt;Please list out all classes which have more than or equal to 5 students.&lt;/p&gt;

&lt;p&gt;For example, the table:&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+———+————+&lt;br /&gt;
| student | class      |&lt;br /&gt;
+———+————+&lt;br /&gt;
| A       | Math       |&lt;br /&gt;
| B       | English    |&lt;br /&gt;
| C       | Math       |&lt;br /&gt;
| D       | Biology    |&lt;br /&gt;
| E       | Math       |&lt;br /&gt;
| F       | Computer   |&lt;br /&gt;
| G       | Math       |&lt;br /&gt;
| H       | Math       |&lt;br /&gt;
| I       | Math       |&lt;br /&gt;
+———+————+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Should output:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+———+&lt;br /&gt;
| class   |&lt;br /&gt;
+———+&lt;br /&gt;
| Math    |&lt;br /&gt;
+———+&lt;br /&gt;
Note:&lt;br /&gt;
The students should not be counted duplicate in each course.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：输出超过5个学生班级即可，没注意Note里说不可重复计算学生数量，用例里面也确实出现了重复项，加上&lt;code class=&quot;highlighter-rouge&quot;&gt;DISTINCT&lt;/code&gt;就可以了：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;一般方法：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;courses&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HAVING&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DISTINCT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;子查询&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DISTINCT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;student&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;courses&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Fri, 23 Jun 2017 10:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-596</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-596</guid>
			</item>
		
			<item>
				<title>LeetCode_627. Swap Salary</title>
				<description>&lt;h3 id=&quot;627-swap-salary&quot;&gt;627. Swap Salary&lt;/h3&gt;
&lt;p&gt;Given a table salary, such as the one below, that has m=male and f=female values. Swap all f and m values (i.e., change all f values to m and vice versa) with a single update query and no intermediate temp table.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;id 　&lt;/th&gt;
        &lt;th&gt;name 　&lt;/th&gt;
        &lt;th&gt;sex　&lt;/th&gt;
        &lt;th&gt;salary&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;A&lt;/td&gt;
        &lt;td&gt;m&lt;/td&gt;
        &lt;td&gt;2500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;B&lt;/td&gt;
        &lt;td&gt;f&lt;/td&gt;
        &lt;td&gt;1500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;3&lt;/td&gt;
        &lt;td&gt;C&lt;/td&gt;
        &lt;td&gt;m&lt;/td&gt;
        &lt;td&gt;5500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;D&lt;/td&gt;
        &lt;td&gt;f&lt;/td&gt;
        &lt;td&gt;500&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/blockquote&gt;

&lt;p&gt;After running your query, the above salary table should have the following rows:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;id　&lt;/th&gt;
        &lt;th&gt;name　&lt;/th&gt;
        &lt;th&gt;sex 　&lt;/th&gt;
        &lt;th&gt;salary 　&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;1&lt;/td&gt;
        &lt;td&gt;A&lt;/td&gt;
        &lt;td&gt;f&lt;/td&gt;
        &lt;td&gt;2500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;2&lt;/td&gt;
        &lt;td&gt;B&lt;/td&gt;
        &lt;td&gt;m&lt;/td&gt;
        &lt;td&gt;1500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;3&lt;/td&gt;
        &lt;td&gt;C&lt;/td&gt;
        &lt;td&gt;f&lt;/td&gt;
        &lt;td&gt;5500&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;4&lt;/td&gt;
        &lt;td&gt;D&lt;/td&gt;
        &lt;td&gt;m&lt;/td&gt;
        &lt;td&gt;500&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：题目是交换薪水，实际是反转性别，通用方法需要一点点判断：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salary&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'f'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;或者写成Case搜索函数的形式：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salary&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHEN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'f'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;MARK一下leetCode网友的两条超短语句：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salary&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'f'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;salary&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CHAR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ASCII&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'f'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ASCII&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'m'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ASCII&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Thu, 22 Jun 2017 15:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-627</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-627</guid>
			</item>
		
			<item>
				<title>LeetCode_620. Not Boring Movies</title>
				<description>&lt;h3 id=&quot;620-not-boring-movies&quot;&gt;620. Not Boring Movies&lt;/h3&gt;
&lt;p&gt;X city opened a new cinema, many people would like to go to this cinema. The cinema also gives out a poster indicating the movies’ ratings and descriptions.&lt;/p&gt;

&lt;p&gt;Please write a SQL query to output movies with an odd numbered ID and a description that is not ‘boring’. Order the result by rating.&lt;/p&gt;

&lt;p&gt;For example, table &lt;code class=&quot;highlighter-rouge&quot;&gt;cinema&lt;/code&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+———+———–+————–+———–+&lt;br /&gt;
|   id    | movie     |  description |  rating   |&lt;br /&gt;
+———+———–+————–+———–+&lt;br /&gt;
|   1     | War       |   great 3D   |   8.9     |&lt;br /&gt;
|   2     | Science   |   fiction    |   8.5     |&lt;br /&gt;
|   3     | irish     |   boring     |   6.2     |&lt;br /&gt;
|   4     | Ice song  |   Fantacy    |   8.6     |&lt;br /&gt;
|   5     | House card|   Interesting|   9.1     |&lt;br /&gt;
+———+———–+————–+———–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For the example above, the output should be:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+———+———–+————–+———–+&lt;br /&gt;
|   id    | movie     |  description |  rating   |&lt;br /&gt;
+———+———–+————–+———–+&lt;br /&gt;
|   5     | House card|   Interesting|   9.1     |&lt;br /&gt;
|   1     | War       |   great 3D   |   8.9     |&lt;br /&gt;
+———+———–+————–+———–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：非常简单，没啥说的，一次搞定,这里取奇数有多种方式，MARK一下：&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;mod(id,2)=1,&lt;br /&gt;
id%2=1&lt;br /&gt;
id&amp;amp;1&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;movie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rating&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cinema&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'boring'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rating&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Thu, 22 Jun 2017 10:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-620</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-620</guid>
			</item>
		
			<item>
				<title>LeetCode_595. Big Countries</title>
				<description>&lt;h3 id=&quot;595-big-countries&quot;&gt;595. Big Countries&lt;/h3&gt;
&lt;p&gt;There is a table World&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—————–+————+————+————–+—————+&lt;br /&gt;
| name            | continent  | area       | population   | gdp           |&lt;br /&gt;
+—————–+————+————+————–+—————+&lt;br /&gt;
| Afghanistan     | Asia       | 652230     | 25500100     | 20343000      |&lt;br /&gt;
| Albania         | Europe     | 28748      | 2831741      | 12960000      |&lt;br /&gt;
| Algeria         | Africa     | 2381741    | 37100000     | 188681000     |&lt;br /&gt;
| Andorra         | Europe     | 468        | 78115        | 3712000       |&lt;br /&gt;
| Angola          | Africa     | 1246700    | 20609294     | 100990000     |&lt;br /&gt;
+—————–+————+————+————–+—————+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A country is big if it has an area of bigger than 3 million square km or a population of more than 25 million.&lt;/p&gt;

&lt;p&gt;Write a SQL solution to output big countries’ name, population and area.&lt;/p&gt;

&lt;p&gt;For example, according to the above table, we should output:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+————–+————-+————–+&lt;br /&gt;
| name         | population  | area         |&lt;br /&gt;
+————–+————-+————–+&lt;br /&gt;
| Afghanistan  | 25500100    | 652230       |&lt;br /&gt;
| Algeria      | 37100000    | 2381741      |&lt;br /&gt;
+————–+————-+————–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：非常简单，没啥说的，一次搞定：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;population&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;world&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;area&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3000000&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;OR&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;population&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;25000000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Wed, 21 Jun 2017 15:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-595</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-595</guid>
			</item>
		
			<item>
				<title>LeetCode_197. Rising Temperature</title>
				<description>&lt;h3 id=&quot;197-rising-temperature&quot;&gt;197. Rising Temperature&lt;/h3&gt;
&lt;p&gt;Given a Weather table, write a SQL query to find all dates’ Ids with higher temperature compared to its previous (yesterday’s) dates.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+———+————+——————+&lt;br /&gt;
| Id(INT) | Date(DATE) | Temperature(INT) |&lt;br /&gt;
+———+————+——————+&lt;br /&gt;
|       1 | 2015-01-01 |               10 |&lt;br /&gt;
|       2 | 2015-01-02 |               25 |&lt;br /&gt;
|       3 | 2015-01-03 |               20 |&lt;br /&gt;
|       4 | 2015-01-04 |               30 |&lt;br /&gt;
+———+————+——————+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For example, return the following Ids for the above Weather table:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+&lt;br /&gt;
| Id |&lt;br /&gt;
+—-+&lt;br /&gt;
|  2 |&lt;br /&gt;
|  4 |&lt;br /&gt;
+—-+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：找出温度升高那天的Id，题目比较简单，关键是如何找出连续的两天,需要借助MySQL内置的天数转换函数(DATADIFF/TODAYS)：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Weather&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Weather&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W2&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Temperature&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Temperature&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DATEDIFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;W1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;W2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Wed, 21 Jun 2017 10:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-197</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-197</guid>
			</item>
		
			<item>
				<title>LeetCode_196. Delete Duplicate Emails</title>
				<description>&lt;h3 id=&quot;196-delete-duplicate-emails&quot;&gt;196. Delete Duplicate Emails&lt;/h3&gt;
&lt;p&gt;Write a SQL query to delete all duplicate email entries in a table named Person, keeping only unique emails based on its smallest Id.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+——————+&lt;br /&gt;
| Id | Email            |&lt;br /&gt;
+—-+——————+&lt;br /&gt;
| 1  | john@example.com |&lt;br /&gt;
| 2  | bob@example.com  |&lt;br /&gt;
| 3  | john@example.com |&lt;br /&gt;
+—-+——————+&lt;br /&gt;
Id is the primary key column for this table.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For example, after running your query, the above &lt;code class=&quot;highlighter-rouge&quot;&gt;Person&lt;/code&gt; table should have the following rows:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+——————+&lt;br /&gt;
| Id | Email            |&lt;br /&gt;
+—-+——————+&lt;br /&gt;
| 1  | john@example.com |&lt;br /&gt;
| 2  | bob@example.com  |&lt;br /&gt;
+—-+——————+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：删除重复的邮箱，按照示例是删除ID较大的重复邮箱：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;子查询，难点在于构造需要删除的ID的集合：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;person&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;MIN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;person&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这个写法如果不把查询出的最小ID集合作为&lt;code class=&quot;highlighter-rouge&quot;&gt;P&lt;/code&gt;的话，会报错：&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;You can’t specify target table &lt;tbl&gt; for update in FROM clause&lt;/tbl&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;意思说，不可以将同一个表中&lt;code class=&quot;highlighter-rouge&quot;&gt;SELECT&lt;/code&gt;出的数据，再在表上进行删除等更新操作。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;第二种方式，就是使用连表删除：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;no&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Email&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ANDp1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Tue, 20 Jun 2017 17:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-196</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-196</guid>
			</item>
		
			<item>
				<title>LeetCode_185. Department Top Three Salaries</title>
				<description>&lt;h3 id=&quot;185-department-top-three-salaries&quot;&gt;185. Department Top Three Salaries&lt;/h3&gt;
&lt;p&gt;The Employee table holds all employees. Every employee has an Id, and there is also a column for the department Id.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+——-+——–+————–+&lt;br /&gt;
| Id | Name  | Salary | DepartmentId |&lt;br /&gt;
+—-+——-+——–+————–+&lt;br /&gt;
| 1  | Joe   | 70000  | 1            |&lt;br /&gt;
| 2  | Henry | 80000  | 2            |&lt;br /&gt;
| 3  | Sam   | 60000  | 2            |&lt;br /&gt;
| 4  | Max   | 90000  | 1            |&lt;br /&gt;
| 5  | Janet | 69000  | 1            |&lt;br /&gt;
| 6  | Randy | 85000  | 1            |&lt;br /&gt;
+—-+——-+——–+————–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The Department table holds all departments of the company.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+———-+&lt;br /&gt;
| Id | Name     |&lt;br /&gt;
+—-+———-+&lt;br /&gt;
| 1  | IT       |&lt;br /&gt;
| 2  | Sales    |&lt;br /&gt;
+—-+———-+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Write a SQL query to find employees who earn the top three salaries in each of the department. For the above tables, your SQL query should return the following rows.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;+————+———-+——–+&lt;br /&gt;
| Department | Employee | Salary |&lt;br /&gt;
+————+———-+——–+&lt;br /&gt;
| IT         | Max      | 90000  |&lt;br /&gt;
| IT         | Randy    | 85000  |&lt;br /&gt;
| IT         | Joe      | 70000  |&lt;br /&gt;
| Sales      | Henry    | 80000  |&lt;br /&gt;
| Sales      | Sam      | 60000  |&lt;br /&gt;
+————+———-+——–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：上一题的增强版，要输出前三高的薪水(薪水不重复)，：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;子查询+连接查询：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Department&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Department&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DISTINCT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这个不是很好理解，问题的关键在于子查询这里，取同一部门的所有薪水超过当前比较薪水的个数要小于3，即0,1,2，然后输出&lt;code class=&quot;highlighter-rouge&quot;&gt;e.salary&lt;/code&gt;,也就是取出部门的最高，次高和第三高的薪水。&lt;/p&gt;
</description>
				<pubDate>Tue, 20 Jun 2017 17:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-185</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-185</guid>
			</item>
		
			<item>
				<title>LeetCode_184. Department Highest Salary</title>
				<description>&lt;h3 id=&quot;184-department-highest-salary&quot;&gt;184. Department Highest Salary&lt;/h3&gt;
&lt;p&gt;The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+——-+——–+————–+&lt;br /&gt;
| Id | Name  | Salary | DepartmentId |&lt;br /&gt;
+—-+——-+——–+————–+&lt;br /&gt;
| 1  | Joe   | 70000  | 1            |&lt;br /&gt;
| 2  | Henry | 80000  | 2            |&lt;br /&gt;
| 3  | Sam   | 60000  | 2            |&lt;br /&gt;
| 4  | Max   | 90000  | 1            |&lt;br /&gt;
+—-+——-+——–+————–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The Department table holds all departments of the company.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+———-+&lt;br /&gt;
| Id | Name     |&lt;br /&gt;
+—-+———-+&lt;br /&gt;
| 1  | IT       |&lt;br /&gt;
| 2  | Sales    |&lt;br /&gt;
+—-+———-+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Write a SQL query to find employees who have the highest salary in each of the departments. For the above tables, Max has the highest salary in the IT department and Henry has the highest salary in the Sales department.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;+————+———-+——–+&lt;br /&gt;
| Department | Employee | Salary |&lt;br /&gt;
+————+———-+——–+&lt;br /&gt;
| IT         | Max      | 90000  |&lt;br /&gt;
| Sales      | Henry    | 80000  |&lt;br /&gt;
+————+———-+——–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：输出各部门的最大薪水：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;子查询+连接查询：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Department&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; 
&lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Department&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt; 
&lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;其实就是分组查出最大薪水，然后和雇员表、部门表内联后输出。&lt;/p&gt;

&lt;p&gt;-还有一个思路，雇员表内联部门表后，从最大薪水表用&lt;code class=&quot;highlighter-rouge&quot;&gt;IN&lt;/code&gt;过滤：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Department&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt; 
&lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;department&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;E&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;departmentId&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Salary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MAX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;salary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DepartmentId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Tue, 20 Jun 2017 15:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-184</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-184</guid>
			</item>
		
			<item>
				<title>LeetCode_183. Customers Who Never Order</title>
				<description>&lt;h3 id=&quot;183-customers-who-never-order&quot;&gt;183. Customers Who Never Order&lt;/h3&gt;
&lt;p&gt;Suppose that a website contains two tables, the Customers table and the Orders table. Write a SQL query to find all customers who never order anything.&lt;/p&gt;

&lt;p&gt;Table: &lt;code class=&quot;highlighter-rouge&quot;&gt;Customers.&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;+—-+——-+&lt;br /&gt;
| Id | Name  |&lt;br /&gt;
+—-+——-+&lt;br /&gt;
| 1  | Joe   |&lt;br /&gt;
| 2  | Henry |&lt;br /&gt;
| 3  | Sam   |&lt;br /&gt;
| 4  | Max   |&lt;br /&gt;
+—-+——-+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Table: &lt;code class=&quot;highlighter-rouge&quot;&gt;Orders&lt;/code&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;+—-+————+&lt;br /&gt;
| Id | CustomerId |&lt;br /&gt;
+—-+————+&lt;br /&gt;
| 1  | 3          |&lt;br /&gt;
| 2  | 1          |&lt;br /&gt;
+—-+————+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Using the above tables as example, return the following:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;+———–+&lt;br /&gt;
| Customers |&lt;br /&gt;
+———–+&lt;br /&gt;
| Henry     |&lt;br /&gt;
| Max       |&lt;br /&gt;
+———–+&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;p&gt;解答：找出数据中没有下过订单的顾客：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;子查询：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Write your MySQL query statement below&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Customers&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customers&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;customerId&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;联表查询：&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Customers&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Customers&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CustomerId&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CustomerId&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
				<pubDate>Tue, 20 Jun 2017 15:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/Leetcode-database-183</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/Leetcode-database-183</guid>
			</item>
		
			<item>
				<title>MYSQL中删除数据表的三种方式</title>
				<description>&lt;h3 id=&quot;mysql中删除数据表的三种方式&quot;&gt;MYSQL中删除数据表的三种方式&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;DROP&lt;br /&gt;
使用方式：
    &lt;blockquote&gt;
      &lt;p&gt;drop table tbl_name;&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;删除数据表的内容和定义，释放空间。彻底删除表。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;TRUNCATE&lt;br /&gt;
使用方式：
    &lt;blockquote&gt;
      &lt;p&gt;TRUNCATE TABLE tbl_name;&lt;br /&gt;
清空数据表，释放空间，保留表结构，表状态信息回复原始状态(自增ID从0开始)。&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
  &lt;li&gt;DELETE&lt;br /&gt;
使用方式：
    &lt;blockquote&gt;
      &lt;p&gt;DELETE TABLE tbl_name;&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;逐行删除表数据，会触发事务，删除可通过&lt;code class=&quot;highlighter-rouge&quot;&gt;ROLLBACK&lt;/code&gt;撤销。&lt;br /&gt;
空间不回收，可以通过&lt;/p&gt;
    &lt;blockquote&gt;
      &lt;p&gt;OPTIMIZE TABLE  tbl_name;&lt;/p&gt;
    &lt;/blockquote&gt;

    &lt;p&gt;优化表空间。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Tue, 20 Jun 2017 14:21:06 +0800</pubDate>
				<link>http://localhost:4000/2017/06/MYSQL-drop-delete-truncate</link>
				<guid isPermaLink="true">http://localhost:4000/2017/06/MYSQL-drop-delete-truncate</guid>
			</item>
		
	</channel>
</rss>
